% ******** Приклад оформлення документа за ДСТУ 3008-95 ********
% ******************** автор: Тавров Д. Ю. *********************

% зазначаємо стильовий файл, який будемо використовувати
\documentclass{../../dstu}

% починаємо верстку документа
\begin{document}

% створимо титульний аркуш
% за допомогою спеціальної команди
% \maketitlepage{params},
% де params --- це розділені комами пари "параметр={значення}"
\maketitlepage{
% StudentName --- прізвище, ініціали студента
	StudentName={Бубела Д. В.},
% StudentMale --- стать студента (true, якщо чоловік, false --- якщо жінка)
	StudentMale=true,
% StudentGroup --- група студента
	StudentGroup={КМ-82},
% Title --- назва
	Title={Звіт\\із лабораторної роботи №2\\із дисципліни \invcommas{Автоматизоване тестування програмного забезпечення}\\на тему\\ Приймальне тестування (acceptance testing) програм на мові Python},
% SupervisorDegree --- науковий ступінь, учене звання керівника роботи
% якщо наукового ступеня немає, можна відповідний рядочок пропустити
	SupervisorDegree={\textit{асистент}},
% SupervisorName --- прізвище, ініціали керівника роботи
	SupervisorName={\textit{Громова В. В.}}
}
% створюємо зміст
\tableofcontents

% створюємо Мету роботи
\goal

Ознайомитися з бібліотекою subprocess зі стандартної бібліотеки Python. 
Провести автоматизоване приймальне тестування (acceptance testing) програм на мові Python складеними за індивідуальним завданням вказаними в \invcommas{Загальних інструкціях до лабораторних робіт} відповідно до номеру.

\textbf{Завдання 1}

2) Замінити закінчення (останні два символи) на 'xz' у словах, довжина яких дорівнює 5.

\textbf{Завдання 2}

2) Дано одновимірний масив числових значень, що нараховує n елементів. Виконати переміщення елементів масиву по колу вправо, тобто a[1] $\rightarrow$ a[2]; a [2] $\rightarrow$ a[3]; $\ldots$ a[n] $\rightarrow$ a[1].

\chapter{Постановка задачі}
\label{chap:first}

Програми з двох завдань повинні бути протестовані на корректність виводу на попередньо підготовлений ввід. На відміну від модульного тестування, в приймальному --- програма яка тестується запускається як окрема одиниця і процес тестування проходить за тими ж потоками вводу/виводу, що й з користувачем (стандартними).

\textbf{Завдання 1}

Програма повинна зчитувати набір символів до початку нового рядка. Також їй необхідно рахувати довжину слова, якщо вона дорівнює 5ти --- потрібно замість 2х останніх букв поставити ``xz''. Зауваження: замінюватись мають саме букви, вони й підраховуються в слові. Тобто апостроф в слові не рахується, якщо він буде стояти між 2ма останніми буквами --- замінити треба саме букви. Слово в лапках рахується як слово, без лапок, всі заміни робляться в слові. В стандартний потік виводу має направитись рядок зі зміненими символами.

\textbf{Завдання 2}

Програма повинна зчитувати набір символів до початку нового рядка. В зчитаному рядку мають знаходитись елементи масиву розділені пробілами. Пусті елементи (два пробіла підряд) не рахуються окремими елементами масиву. Усі елементи в масиві циклічно зсовуються вперед на одну одиницю. В стандартний потік виводу має вивестись введений масив з розділенням елементів через пробіл.

\chapter{Основна частина}
\label{chap:main}
Програми будуть тестуватися в приймальному режимі. Програма, що тестується, обмінюватиметься даними зі стандартнимим потоками вводу, виводу, помилок, якими керує програма, що тестує. 

\textbf{Завдання 1}

Для вибору слів використовується регулярний вираз. Всі слова, що відповідають цьому виразу замінюються результатом роботи лямбди, яка приймає й видає окреме слово. В цій функції, коли кількість букв у слові дорівнює 5 здійснюється заміна 2х останніх букв теж регулярним виразом. Саме заміну здійснює функція sub з бібліотеки re.

\textbf{Завдання 2}

Зчитаний рядок розділюється на окремі елементи функцією split по пробілам. Для циклічного зсуву на 1 елемент конкатенуються 2 слайси списку, які є елементами з кінця та з початку до вибраних елементів з кінця. Елементи списку виводяться без додаткових обрамлень розділені пробілом.

\textbf{Тестування}

Програми що тестують завдання подібні та мають спільні елементи. Використовується стандартна бібліотека unittest. Головний клас, який відповідає за тестування є нащадком unittest.TestCase. Для запуску підпроцесів використовується стандартна бібліотека subprocess, Popen для відкриття програм, PIPE для роботи з вхідними/вихідними потоками, TimeoutExpired --- виключення, що виникає, коли програма довго не відповідає. Кодування консолі, вводу/виводу синхронізується завдяки бібліотеці locale.

\chapter{Розробка тест-кейсів}

Тест кейси для вийняткових ситуацій зробити неможливо, адже програма приймає будь-який текстовий ввід і видає результат.

\begin{table}{|c|m{4cm}|m{5cm}|m{5cm}|}{Тест-кейси завдання 1}{table:table1}
	{\hline
	{\centering Тест} & {\centering Мета} & {\centering Вхідні данні} & {\centering Очікуваний результат} \\
	\hline}
	1 & Перевірити заміну в простому слові не на початку і не в кінці речення & Practice makes perfect & Practice makxz perfect\\
	\hline
	2 & Перевірити заміну на >1 слові & A sound mind in a sound body & A souxz mind in a souxz body\\
	\hline
	3 & Чи програма рахує розділення слів правильно? Апостроф має бути частиною слова& o'reill contains of six words and an apostrophe & o'reill contains of six worxz and an apostrophe\\
	\hline
	4 & Заміна не в латинських символах & П'ятий човен йшов на дно & П'ятxz човxz йшов на дно\\
	\hline
	5 & Перевірити чи рахує 5 апострофів за слово з 5ма символами & '''''' ''''' '' ''' & '''''' ''''' '' '''\\
	\hline
	6 & Як реагує на пробіли? & 9 пробілів & 9 пробілів?\\
	\hline
	7 & Чи працює на пустих рядках? &  & \\
	\hline
	8 & Перевірити заміну в реченнях, слів після яких іде кома & here are many ways to sort them - by suits (diamonds, clubs, hearts, and spades) or by numbers & here are many ways to sort them - by suixz (diamonds, cluxz, hearts, and spades) or by numbers\\
\end{table}

\begin{table}{|c|m{4cm}|m{5cm}|m{5cm}|}{Тест-кейси завдання 2}{table:table1}
	{\hline
	{\centering Тест} & {\centering Мета} & {\centering Вхідні данні} & {\centering Очікуваний результат} \\
	\hline}
	1 & Перевірити зсув в простому реченні & Practice makes perfect & perfect Practice makes\\
	\hline
	2 & Перевірити заміну на цифрах & 1 2 3 4 5 & 5 1 2 3 4\\
	\hline
	3 & Чи програма рахує розділення слів правильно? Апостроф має бути частиною слова& П'ятий човен на дно йшов & йшов П'ятий човен на дно\\
	\hline
	4 & Перевірити чи рахує апострофи & '''''' ''''' '' ''' & ''' '''''' ''''' ''\\
	\hline
	5 & Як реагує на пробіли? & 9 пробілів & Пустий рядок\\
	\hline
	6 & Чи працює на пустих рядках? &  & \\
	\hline
	7 & Перевірити зсув в реченнях, слів після яких іде кома & here ar3e many wa``ys to sort them - by suits (diamonds, clubs, hearts, and spades) or by numbers & numbers here ar3e many wa``ys to sort them - by suits (diamonds, clubs, hearts, and spades) or by\\
\end{table}

% створюємо Висновки
\conclusions

Ми ознайомилися з процесом приймального тестування з самого початку і до кінця. Воно відбувається на фінальній стадії розробки програмного продукту, адже воно найбільше схоже з діями користувача. Для приймального тестування теж можна використовувати бібліотеку unittest, бо вона дає інтерфейс самого тестування. Необхідна бібліотека для виклику окремої підпрограми, так як перевіряється її робота в звичних для неї умовах, тести не вбудовуються в структуру самого програмного засобу, що тестується. Subprocess забезпечує необхідні вимоги вказані вища та також має функції для роботи з потоками вводу, виводу, помилок програми, може ловити виняткові ситуації. Програми були успішно протестовані на коректність роботи.
	
% створюємо перелік посилань
\begin{thebibliography}

\bibitem{Methodychka} «Програмування на мові PYTHON: інструкції до виконання лабораторних робіт з дисципліни «Програмування-1. Основи програмування» / КПІ ім. Ігоря Сікорського; укладач В. В. Громова.

\bibitem{unittestdocs} Python Software Foundation. subprocess --- Subprocess management [Електронний ресурс] / Python Software Foundation.. --- 2020. --- Режим доступу до ресурсу: \url{https://docs.python.org/3/library/subprocess.html}.

\bibitem{unittestdocs} Python Software Foundation. unittest --- Unit testing framework [Електронний ресурс] / Python Software Foundation.. --- 2020. --- Режим доступу до ресурсу: \url{https://docs.python.org/3/library/unittest.html}.

\end{thebibliography}

% створюємо додаток
\append{Тексти програм, які тестуються}

\listing{task\_1.py}{SRC/task1.py}
\listing{task\_1.py}{SRC/task2.py}

\append{Тексти модулів, що реалізують автоматичне тестування}

\listing{task\_1\_acceptance\_test.py}{SRC/task1acceptancetest.py}
\listing{task\_2\_acceptance\_test.py}{SRC/task2acceptancetest.py}

\append{Скріншоти результатів виконання автотестів}

\begin{figure}[!htp]
	\centering
	\includegraphics[scale=1]{PNG/1t.png}
	\caption{Тестування програми 1}
	\label{fig:test1}
\end{figure}

\begin{figure}[!htp]
	\centering
	\includegraphics[scale=1]{PNG/2t.png}
	\caption{Тестування програми 2}
	\label{fig:test1}
\end{figure}
\append{Відповіді на контрольні запитання}
\begin{enumerate}[label=\arabic*)]
    \item Що таке приймальне тестування (acceptance testing)? 
    
    Приймальне тестування --- це 

    \item Які цілі й переваги приймального тестування?
    \item Яке місце приймального тестування в життєвому циклі розробки ПЗ?
    \item До якого типу тестування відноситься приймальне тестування? 
    \item На основі чого створюються тест-кейси для приймального тестування?
    \item Які типові об’єкти приймального тестування?
    \item Які види приймального тестування вам відомі?
    \item Які є методи приймального тестування?
    \item Що таке регресійне тестування?
    \item Які критерії завершення приймального тестування?
\end{enumerate}

\end{document}
